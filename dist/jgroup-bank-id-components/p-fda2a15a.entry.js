import{h as t,F as e,g as n,r,c as i,H as o}from"./p-6eb781ac.js";var s={};var a=function(){return typeof Promise==="function"&&Promise.prototype&&Promise.prototype.then};var c={};var l={};let u;const f=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function t(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};l.getSymbolTotalCodewords=function t(e){return f[e]};l.getBCHDigit=function(t){let e=0;while(t!==0){e++;t>>>=1}return e};l.setToSJISFunction=function t(e){if(typeof e!=="function"){throw new Error('"toSJISFunc" is not a valid function.')}u=e};l.isKanjiModeEnabled=function(){return typeof u!=="undefined"};l.toSJIS=function t(e){return u(e)};var d={};(function(t){t.L={bit:1};t.M={bit:0};t.Q={bit:3};t.H={bit:2};function e(e){if(typeof e!=="string"){throw new Error("Param is not a string")}const n=e.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}t.isValid=function t(e){return e&&typeof e.bit!=="undefined"&&e.bit>=0&&e.bit<4};t.from=function n(r,i){if(t.isValid(r)){return r}try{return e(r)}catch(t){return i}}})(d);function h(){this.buffer=[];this.length=0}h.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++){this.putBit((t>>>e-n-1&1)===1)}},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);if(this.buffer.length<=e){this.buffer.push(0)}if(t){this.buffer[e]|=128>>>this.length%8}this.length++}};var p=h;function g(t){if(!t||t<1){throw new Error("BitMatrix size must be defined and greater than 0")}this.size=t;this.data=new Uint8Array(t*t);this.reservedBit=new Uint8Array(t*t)}g.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n;if(r)this.reservedBit[i]=true};g.prototype.get=function(t,e){return this.data[t*this.size+e]};g.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};g.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var w=g;var b={};(function(t){const e=l.getSymbolSize;t.getRowColCoords=function t(n){if(n===1)return[];const r=Math.floor(n/7)+2;const i=e(n);const o=i===145?26:Math.ceil((i-13)/(2*r-2))*2;const s=[i-7];for(let t=1;t<r-1;t++){s[t]=s[t-1]-o}s.push(6);return s.reverse()};t.getPositions=function e(n){const r=[];const i=t.getRowColCoords(n);const o=i.length;for(let t=0;t<o;t++){for(let e=0;e<o;e++){if(t===0&&e===0||t===0&&e===o-1||t===o-1&&e===0){continue}r.push([i[t],i[e]])}}return r}})(b);var m={};const y=l.getSymbolSize;const v=7;m.getPositions=function t(e){const n=y(e);return[[0,0],[n-v,0],[0,n-v]]};var k={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function t(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};t.from=function e(n){return t.isValid(n)?parseInt(n,10):undefined};t.getPenaltyN1=function t(n){const r=n.size;let i=0;let o=0;let s=0;let a=null;let c=null;for(let t=0;t<r;t++){o=s=0;a=c=null;for(let l=0;l<r;l++){let r=n.get(t,l);if(r===a){o++}else{if(o>=5)i+=e.N1+(o-5);a=r;o=1}r=n.get(l,t);if(r===c){s++}else{if(s>=5)i+=e.N1+(s-5);c=r;s=1}}if(o>=5)i+=e.N1+(o-5);if(s>=5)i+=e.N1+(s-5)}return i};t.getPenaltyN2=function t(n){const r=n.size;let i=0;for(let t=0;t<r-1;t++){for(let e=0;e<r-1;e++){const r=n.get(t,e)+n.get(t,e+1)+n.get(t+1,e)+n.get(t+1,e+1);if(r===4||r===0)i++}}return i*e.N2};t.getPenaltyN3=function t(n){const r=n.size;let i=0;let o=0;let s=0;for(let t=0;t<r;t++){o=s=0;for(let e=0;e<r;e++){o=o<<1&2047|n.get(t,e);if(e>=10&&(o===1488||o===93))i++;s=s<<1&2047|n.get(e,t);if(e>=10&&(s===1488||s===93))i++}}return i*e.N3};t.getPenaltyN4=function t(n){let r=0;const i=n.data.length;for(let t=0;t<i;t++)r+=n.data[t];const o=Math.abs(Math.ceil(r*100/i/5)-10);return o*e.N4};function n(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.applyMask=function t(e,r){const i=r.size;for(let t=0;t<i;t++){for(let o=0;o<i;o++){if(r.isReserved(o,t))continue;r.xor(o,t,n(e,o,t))}}};t.getBestMask=function e(n,r){const i=Object.keys(t.Patterns).length;let o=0;let s=Infinity;for(let e=0;e<i;e++){r(e);t.applyMask(e,n);const i=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(e,n);if(i<s){s=i;o=e}}return o}})(k);var x={};const I=d;const E=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81];const T=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];x.getBlocksCount=function t(e,n){switch(n){case I.L:return E[(e-1)*4+0];case I.M:return E[(e-1)*4+1];case I.Q:return E[(e-1)*4+2];case I.H:return E[(e-1)*4+3];default:return undefined}};x.getTotalCodewordsCount=function t(e,n){switch(n){case I.L:return T[(e-1)*4+0];case I.M:return T[(e-1)*4+1];case I.Q:return T[(e-1)*4+2];case I.H:return T[(e-1)*4+3];default:return undefined}};var B={};var A={};const C=new Uint8Array(512);const M=new Uint8Array(256);(function t(){let e=1;for(let t=0;t<255;t++){C[t]=e;M[e]=t;e<<=1;if(e&256){e^=285}}for(let t=255;t<512;t++){C[t]=C[t-255]}})();A.log=function t(e){if(e<1)throw new Error("log("+e+")");return M[e]};A.exp=function t(e){return C[e]};A.mul=function t(e,n){if(e===0||n===0)return 0;return C[M[e]+M[n]]};(function(t){const e=A;t.mul=function t(n,r){const i=new Uint8Array(n.length+r.length-1);for(let t=0;t<n.length;t++){for(let o=0;o<r.length;o++){i[t+o]^=e.mul(n[t],r[o])}}return i};t.mod=function t(n,r){let i=new Uint8Array(n);while(i.length-r.length>=0){const t=i[0];for(let n=0;n<r.length;n++){i[n]^=e.mul(r[n],t)}let n=0;while(n<i.length&&i[n]===0)n++;i=i.slice(n)}return i};t.generateECPolynomial=function n(r){let i=new Uint8Array([1]);for(let n=0;n<r;n++){i=t.mul(i,new Uint8Array([1,e.exp(n)]))}return i}})(B);const R=B;function D(t){this.genPoly=undefined;this.degree=t;if(this.degree)this.initialize(this.degree)}D.prototype.initialize=function t(e){this.degree=e;this.genPoly=R.generateECPolynomial(this.degree)};D.prototype.encode=function t(e){if(!this.genPoly){throw new Error("Encoder not initialized")}const n=new Uint8Array(e.length+this.degree);n.set(e);const r=R.mod(n,this.genPoly);const i=this.degree-r.length;if(i>0){const t=new Uint8Array(this.degree);t.set(r,i);return t}return r};var S=D;var U={};var F={};var q={};q.isValid=function t(e){return!isNaN(e)&&e>=1&&e<=40};var P={};const N="[0-9]+";const O="[A-Z $%*+\\-./:]+";let $="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|"+"[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|"+"[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|"+"[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$=$.replace(/u/g,"\\u");const z="(?:(?![A-Z0-9 $%*+\\-./:]|"+$+")(?:.|[\r\n]))+";P.KANJI=new RegExp($,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(z,"g");P.NUMERIC=new RegExp(N,"g");P.ALPHANUMERIC=new RegExp(O,"g");const L=new RegExp("^"+$+"$");const j=new RegExp("^"+N+"$");const Q=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function t(e){return L.test(e)};P.testNumeric=function t(e){return j.test(e)};P.testAlphanumeric=function t(e){return Q.test(e)};(function(t){const e=q;const n=P;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};t.MIXED={bit:-1};t.getCharCountIndicator=function t(n,r){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!e.isValid(r)){throw new Error("Invalid version: "+r)}if(r>=1&&r<10)return n.ccBits[0];else if(r<27)return n.ccBits[1];return n.ccBits[2]};t.getBestModeForData=function e(r){if(n.testNumeric(r))return t.NUMERIC;else if(n.testAlphanumeric(r))return t.ALPHANUMERIC;else if(n.testKanji(r))return t.KANJI;else return t.BYTE};t.toString=function t(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};t.isValid=function t(e){return e&&e.bit&&e.ccBits};function r(e){if(typeof e!=="string"){throw new Error("Param is not a string")}const n=e.toLowerCase();switch(n){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}t.from=function e(n,i){if(t.isValid(n)){return n}try{return r(n)}catch(t){return i}}})(F);(function(t){const e=l;const n=x;const r=d;const i=F;const o=q;const s=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;const a=e.getBCHDigit(s);function c(e,n,r){for(let i=1;i<=40;i++){if(n<=t.getCapacity(i,r,e)){return i}}return undefined}function u(t,e){return i.getCharCountIndicator(t,e)+4}function f(t,e){let n=0;t.forEach((function(t){const r=u(t.mode,e);n+=r+t.getBitsLength()}));return n}function h(e,n){for(let r=1;r<=40;r++){const o=f(e,r);if(o<=t.getCapacity(r,n,i.MIXED)){return r}}return undefined}t.from=function t(e,n){if(o.isValid(e)){return parseInt(e,10)}return n};t.getCapacity=function t(r,s,a){if(!o.isValid(r)){throw new Error("Invalid QR Code version")}if(typeof a==="undefined")a=i.BYTE;const c=e.getSymbolTotalCodewords(r);const l=n.getTotalCodewordsCount(r,s);const f=(c-l)*8;if(a===i.MIXED)return f;const d=f-u(a,r);switch(a){case i.NUMERIC:return Math.floor(d/10*3);case i.ALPHANUMERIC:return Math.floor(d/11*2);case i.KANJI:return Math.floor(d/13);case i.BYTE:default:return Math.floor(d/8)}};t.getBestVersionForData=function t(e,n){let i;const o=r.from(n,r.M);if(Array.isArray(e)){if(e.length>1){return h(e,o)}if(e.length===0){return 1}i=e[0]}else{i=e}return c(i.mode,i.getLength(),o)};t.getEncodedBits=function t(n){if(!o.isValid(n)||n<7){throw new Error("Invalid QR Code version")}let r=n<<12;while(e.getBCHDigit(r)-a>=0){r^=s<<e.getBCHDigit(r)-a}return n<<12|r}})(U);var _={};const H=l;const K=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;const Z=1<<14|1<<12|1<<10|1<<4|1<<1;const X=H.getBCHDigit(K);_.getEncodedBits=function t(e,n){const r=e.bit<<3|n;let i=r<<10;while(H.getBCHDigit(i)-X>=0){i^=K<<H.getBCHDigit(i)-X}return(r<<10|i)^Z};var J={};const W=F;function V(t){this.mode=W.NUMERIC;this.data=t.toString()}V.getBitsLength=function t(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};V.prototype.getLength=function t(){return this.data.length};V.prototype.getBitsLength=function t(){return V.getBitsLength(this.data.length)};V.prototype.write=function t(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3){r=this.data.substr(n,3);i=parseInt(r,10);e.put(i,10)}const o=this.data.length-n;if(o>0){r=this.data.substr(n);i=parseInt(r,10);e.put(i,o*3+1)}};var Y=V;const G=F;const tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function et(t){this.mode=G.ALPHANUMERIC;this.data=t}et.getBitsLength=function t(e){return 11*Math.floor(e/2)+6*(e%2)};et.prototype.getLength=function t(){return this.data.length};et.prototype.getBitsLength=function t(){return et.getBitsLength(this.data.length)};et.prototype.write=function t(e){let n;for(n=0;n+2<=this.data.length;n+=2){let t=tt.indexOf(this.data[n])*45;t+=tt.indexOf(this.data[n+1]);e.put(t,11)}if(this.data.length%2){e.put(tt.indexOf(this.data[n]),6)}};var nt=et;var rt=function t(e){var n=[];var r=e.length;for(var i=0;i<r;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var s=e.charCodeAt(i+1);if(s>=56320&&s<=57343){o=(o-55296)*1024+s-56320+65536;i+=1}}if(o<128){n.push(o);continue}if(o<2048){n.push(o>>6|192);n.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){n.push(o>>12|224);n.push(o>>6&63|128);n.push(o&63|128);continue}if(o>=65536&&o<=1114111){n.push(o>>18|240);n.push(o>>12&63|128);n.push(o>>6&63|128);n.push(o&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const it=rt;const ot=F;function st(t){this.mode=ot.BYTE;if(typeof t==="string"){t=it(t)}this.data=new Uint8Array(t)}st.getBitsLength=function t(e){return e*8};st.prototype.getLength=function t(){return this.data.length};st.prototype.getBitsLength=function t(){return st.getBitsLength(this.data.length)};st.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++){t.put(this.data[e],8)}};var at=st;const ct=F;const lt=l;function ut(t){this.mode=ct.KANJI;this.data=t}ut.getBitsLength=function t(e){return e*13};ut.prototype.getLength=function t(){return this.data.length};ut.prototype.getBitsLength=function t(){return ut.getBitsLength(this.data.length)};ut.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=lt.toSJIS(this.data[e]);if(n>=33088&&n<=40956){n-=33088}else if(n>=57408&&n<=60351){n-=49472}else{throw new Error("Invalid SJIS character: "+this.data[e]+"\n"+"Make sure your charset is UTF-8")}n=(n>>>8&255)*192+(n&255);t.put(n,13)}};var ft=ut;var dt={exports:{}};(function(t){var e={single_source_shortest_paths:function(t,n,r){var i={};var o={};o[n]=0;var s=e.PriorityQueue.make();s.push(n,0);var a,c,l,u,f,d,h,p,g;while(!s.empty()){a=s.pop();c=a.value;u=a.cost;f=t[c]||{};for(l in f){if(f.hasOwnProperty(l)){d=f[l];h=u+d;p=o[l];g=typeof o[l]==="undefined";if(g||p>h){o[l]=h;s.push(l,h);i[l]=c}}}}if(typeof r!=="undefined"&&typeof o[r]==="undefined"){var w=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(t,e){var n=[];var r=e;while(r){n.push(r);r=t[r]}n.reverse();return n},find_path:function(t,n,r){var i=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,r={},i;t=t||{};for(i in n){if(n.hasOwnProperty(i)){r[i]=n[i]}}r.queue=[];r.sorter=t.sorter||n.default_sorter;return r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n);this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};{t.exports=e}})(dt);(function(t){const e=F;const n=Y;const r=nt;const i=at;const o=ft;const s=P;const a=l;const c=dt.exports;function u(t){return unescape(encodeURIComponent(t)).length}function f(t,e,n){const r=[];let i;while((i=t.exec(n))!==null){r.push({data:i[0],index:i.index,mode:e,length:i[0].length})}return r}function d(t){const n=f(s.NUMERIC,e.NUMERIC,t);const r=f(s.ALPHANUMERIC,e.ALPHANUMERIC,t);let i;let o;if(a.isKanjiModeEnabled()){i=f(s.BYTE,e.BYTE,t);o=f(s.KANJI,e.KANJI,t)}else{i=f(s.BYTE_KANJI,e.BYTE,t);o=[]}const c=n.concat(r,i,o);return c.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function h(t,s){switch(s){case e.NUMERIC:return n.getBitsLength(t);case e.ALPHANUMERIC:return r.getBitsLength(t);case e.KANJI:return o.getBitsLength(t);case e.BYTE:return i.getBitsLength(t)}}function p(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;if(n&&n.mode===e.mode){t[t.length-1].data+=e.data;return t}t.push(e);return t}),[])}function g(t){const n=[];for(let r=0;r<t.length;r++){const i=t[r];switch(i.mode){case e.NUMERIC:n.push([i,{data:i.data,mode:e.ALPHANUMERIC,length:i.length},{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.ALPHANUMERIC:n.push([i,{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.KANJI:n.push([i,{data:i.data,mode:e.BYTE,length:u(i.data)}]);break;case e.BYTE:n.push([{data:i.data,mode:e.BYTE,length:u(i.data)}])}}return n}function w(t,n){const r={};const i={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s];const c=[];for(let t=0;t<a.length;t++){const l=a[t];const u=""+s+t;c.push(u);r[u]={node:l,lastCount:0};i[u]={};for(let t=0;t<o.length;t++){const s=o[t];if(r[s]&&r[s].node.mode===l.mode){i[s][u]=h(r[s].lastCount+l.length,l.mode)-h(r[s].lastCount,l.mode);r[s].lastCount+=l.length}else{if(r[s])r[s].lastCount=l.length;i[s][u]=h(l.length,l.mode)+4+e.getCharCountIndicator(l.mode,n)}}}o=c}for(let t=0;t<o.length;t++){i[o[t]].end=0}return{map:i,table:r}}function b(t,s){let c;const l=e.getBestModeForData(t);c=e.from(s,l);if(c!==e.BYTE&&c.bit<l.bit){throw new Error('"'+t+'"'+" cannot be encoded with mode "+e.toString(c)+".\n Suggested mode is: "+e.toString(l))}if(c===e.KANJI&&!a.isKanjiModeEnabled()){c=e.BYTE}switch(c){case e.NUMERIC:return new n(t);case e.ALPHANUMERIC:return new r(t);case e.KANJI:return new o(t);case e.BYTE:return new i(t)}}t.fromArray=function t(e){return e.reduce((function(t,e){if(typeof e==="string"){t.push(b(e,null))}else if(e.data){t.push(b(e.data,e.mode))}return t}),[])};t.fromString=function e(n,r){const i=d(n,a.isKanjiModeEnabled());const o=g(i);const s=w(o,r);const l=c.find_path(s.map,"start","end");const u=[];for(let t=1;t<l.length-1;t++){u.push(s.table[l[t]].node)}return t.fromArray(p(u))};t.rawSplit=function e(n){return t.fromArray(d(n,a.isKanjiModeEnabled()))}})(J);const ht=l;const pt=d;const gt=p;const wt=w;const bt=b;const mt=m;const yt=k;const vt=x;const kt=S;const xt=U;const It=_;const Et=F;const Tt=J;function Bt(t,e){const n=t.size;const r=mt.getPositions(e);for(let e=0;e<r.length;e++){const i=r[e][0];const o=r[e][1];for(let e=-1;e<=7;e++){if(i+e<=-1||n<=i+e)continue;for(let r=-1;r<=7;r++){if(o+r<=-1||n<=o+r)continue;if(e>=0&&e<=6&&(r===0||r===6)||r>=0&&r<=6&&(e===0||e===6)||e>=2&&e<=4&&r>=2&&r<=4){t.set(i+e,o+r,true,true)}else{t.set(i+e,o+r,false,true)}}}}}function At(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2===0;t.set(n,6,e,true);t.set(6,n,e,true)}}function Ct(t,e){const n=bt.getPositions(e);for(let e=0;e<n.length;e++){const r=n[e][0];const i=n[e][1];for(let e=-2;e<=2;e++){for(let n=-2;n<=2;n++){if(e===-2||e===2||n===-2||n===2||e===0&&n===0){t.set(r+e,i+n,true,true)}else{t.set(r+e,i+n,false,true)}}}}}function Mt(t,e){const n=t.size;const r=xt.getEncodedBits(e);let i,o,s;for(let e=0;e<18;e++){i=Math.floor(e/3);o=e%3+n-8-3;s=(r>>e&1)===1;t.set(i,o,s,true);t.set(o,i,s,true)}}function Rt(t,e,n){const r=t.size;const i=It.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++){s=(i>>o&1)===1;if(o<6){t.set(o,8,s,true)}else if(o<8){t.set(o+1,8,s,true)}else{t.set(r-15+o,8,s,true)}if(o<8){t.set(8,r-o-1,s,true)}else if(o<9){t.set(8,15-o-1+1,s,true)}else{t.set(8,15-o-1,s,true)}}t.set(r-8,8,1,true)}function Dt(t,e){const n=t.size;let r=-1;let i=n-1;let o=7;let s=0;for(let a=n-1;a>0;a-=2){if(a===6)a--;while(true){for(let n=0;n<2;n++){if(!t.isReserved(i,a-n)){let r=false;if(s<e.length){r=(e[s]>>>o&1)===1}t.set(i,a-n,r);o--;if(o===-1){s++;o=7}}}i+=r;if(i<0||n<=i){i-=r;r=-r;break}}}}function St(t,e,n){const r=new gt;n.forEach((function(e){r.put(e.mode.bit,4);r.put(e.getLength(),Et.getCharCountIndicator(e.mode,t));e.write(r)}));const i=ht.getSymbolTotalCodewords(t);const o=vt.getTotalCodewordsCount(t,e);const s=(i-o)*8;if(r.getLengthInBits()+4<=s){r.put(0,4)}while(r.getLengthInBits()%8!==0){r.putBit(0)}const a=(s-r.getLengthInBits())/8;for(let t=0;t<a;t++){r.put(t%2?17:236,8)}return Ut(r,t,e)}function Ut(t,e,n){const r=ht.getSymbolTotalCodewords(e);const i=vt.getTotalCodewordsCount(e,n);const o=r-i;const s=vt.getBlocksCount(e,n);const a=r%s;const c=s-a;const l=Math.floor(r/s);const u=Math.floor(o/s);const f=u+1;const d=l-u;const h=new kt(d);let p=0;const g=new Array(s);const w=new Array(s);let b=0;const m=new Uint8Array(t.buffer);for(let t=0;t<s;t++){const e=t<c?u:f;g[t]=m.slice(p,p+e);w[t]=h.encode(g[t]);p+=e;b=Math.max(b,e)}const y=new Uint8Array(r);let v=0;let k,x;for(k=0;k<b;k++){for(x=0;x<s;x++){if(k<g[x].length){y[v++]=g[x][k]}}}for(k=0;k<d;k++){for(x=0;x<s;x++){y[v++]=w[x][k]}}return y}function Ft(t,e,n,r){let i;if(Array.isArray(t)){i=Tt.fromArray(t)}else if(typeof t==="string"){let r=e;if(!r){const e=Tt.rawSplit(t);r=xt.getBestVersionForData(e,n)}i=Tt.fromString(t,r||40)}else{throw new Error("Invalid data")}const o=xt.getBestVersionForData(i,n);if(!o){throw new Error("The amount of data is too big to be stored in a QR Code")}if(!e){e=o}else if(e<o){throw new Error("\n"+"The chosen QR Code version cannot contain this amount of data.\n"+"Minimum version required to store current data is: "+o+".\n")}const s=St(e,n,i);const a=ht.getSymbolSize(e);const c=new wt(a);Bt(c,e);At(c);Ct(c,e);Rt(c,n,0);if(e>=7){Mt(c,e)}Dt(c,s);if(isNaN(r)){r=yt.getBestMask(c,Rt.bind(null,c,n))}yt.applyMask(r,c);Rt(c,n,r);return{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}c.create=function t(e,n){if(typeof e==="undefined"||e===""){throw new Error("No input text")}let r=pt.M;let i;let o;if(typeof n!=="undefined"){r=pt.from(n.errorCorrectionLevel,pt.M);i=xt.from(n.version);o=yt.from(n.maskPattern);if(n.toSJISFunc){ht.setToSJISFunction(n.toSJISFunc)}}return Ft(e,i,r,o)};var qt={};var Pt={};(function(t){function e(t){if(typeof t==="number"){t=t.toString()}if(typeof t!=="string"){throw new Error("Color should be defined as hex string")}let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8){throw new Error("Invalid hex color: "+t)}if(e.length===3||e.length===4){e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))}if(e.length===6)e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function t(n){if(!n)n={};if(!n.color)n.color={};const r=typeof n.margin==="undefined"||n.margin===null||n.margin<0?4:n.margin;const i=n.width&&n.width>=21?n.width:undefined;const o=n.scale||4;return{width:i,scale:i?4:o,margin:r,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};t.getScale=function t(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};t.getImageWidth=function e(n,r){const i=t.getScale(n,r);return Math.floor((n+r.margin*2)*i)};t.qrToImageData=function e(n,r,i){const o=r.modules.size;const s=r.modules.data;const a=t.getScale(o,i);const c=Math.floor((o+i.margin*2)*a);const l=i.margin*a;const u=[i.color.light,i.color.dark];for(let t=0;t<c;t++){for(let e=0;e<c;e++){let r=(t*c+e)*4;let f=i.color.light;if(t>=l&&e>=l&&t<c-l&&e<c-l){const n=Math.floor((t-l)/a);const r=Math.floor((e-l)/a);f=u[s[n*o+r]?1:0]}n[r++]=f.r;n[r++]=f.g;n[r++]=f.b;n[r]=f.a}}}})(Pt);(function(t){const e=Pt;function n(t,e,n){t.clearRect(0,0,e.width,e.height);if(!e.style)e.style={};e.height=n;e.width=n;e.style.height=n+"px";e.style.width=n+"px"}function r(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}t.render=function t(i,o,s){let a=s;let c=o;if(typeof a==="undefined"&&(!o||!o.getContext)){a=o;o=undefined}if(!o){c=r()}a=e.getOptions(a);const l=e.getImageWidth(i.modules.size,a);const u=c.getContext("2d");const f=u.createImageData(l,l);e.qrToImageData(f.data,i,a);n(u,c,l);u.putImageData(f,0,0);return c};t.renderToDataURL=function e(n,r,i){let o=i;if(typeof o==="undefined"&&(!r||!r.getContext)){o=r;r=undefined}if(!o)o={};const s=t.render(n,r,o);const a=o.type||"image/png";const c=o.rendererOpts||{};return s.toDataURL(a,c.quality)}})(qt);var Nt={};const Ot=Pt;function $t(t,e){const n=t.a/255;const r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function zt(t,e,n){let r=t+e;if(typeof n!=="undefined")r+=" "+n;return r}function Lt(t,e,n){let r="";let i=0;let o=false;let s=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e);const l=Math.floor(a/e);if(!c&&!o)o=true;if(t[a]){s++;if(!(a>0&&c>0&&t[a-1])){r+=o?zt("M",c+n,.5+l+n):zt("m",i,0);i=0;o=false}if(!(c+1<e&&t[a+1])){r+=zt("h",s);s=0}}else{i++}}return r}Nt.render=function t(e,n,r){const i=Ot.getOptions(n);const o=e.modules.size;const s=e.modules.data;const a=o+i.margin*2;const c=!i.color.light.a?"":"<path "+$t(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>';const l="<path "+$t(i.color.dark,"stroke")+' d="'+Lt(s,o,i.margin)+'"/>';const u='viewBox="'+"0 0 "+a+" "+a+'"';const f=!i.width?"":'width="'+i.width+'" height="'+i.width+'" ';const d='<svg xmlns="http://www.w3.org/2000/svg" '+f+u+' shape-rendering="crispEdges">'+c+l+"</svg>\n";if(typeof r==="function"){r(null,d)}return d};const jt=a;const Qt=c;const _t=qt;const Ht=Nt;function Kt(t,e,n,r,i){const o=[].slice.call(arguments,1);const s=o.length;const a=typeof o[s-1]==="function";if(!a&&!jt()){throw new Error("Callback required as last argument")}if(a){if(s<2){throw new Error("Too few arguments provided")}if(s===2){i=n;n=e;e=r=undefined}else if(s===3){if(e.getContext&&typeof i==="undefined"){i=r;r=undefined}else{i=r;r=n;n=e;e=undefined}}}else{if(s<1){throw new Error("Too few arguments provided")}if(s===1){n=e;e=r=undefined}else if(s===2&&!e.getContext){r=n;n=e;e=undefined}return new Promise((function(i,o){try{const o=Qt.create(n,r);i(t(o,e,r))}catch(t){o(t)}}))}try{const o=Qt.create(n,r);i(null,t(o,e,r))}catch(t){i(t)}}s.create=Qt.create;s.toCanvas=Kt.bind(null,_t.render);s.toDataURL=Kt.bind(null,_t.renderToDataURL);s.toString=Kt.bind(null,(function(t,e,n){return Ht.render(t,n)}));var Zt={exports:{}};Zt.exports=Vt;Zt.exports.isMobile=Vt;Zt.exports.default=Vt;const Xt=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;const Jt=/CrOS/;const Wt=/android|ipad|playbook|silk/i;function Vt(t){if(!t)t={};let e=t.ua;if(!e&&typeof navigator!=="undefined")e=navigator.userAgent;if(e&&e.headers&&typeof e.headers["user-agent"]==="string"){e=e.headers["user-agent"]}if(typeof e!=="string")return false;let n=Xt.test(e)&&!Jt.test(e)||!!t.tablet&&Wt.test(e);if(!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1){n=true}return n}const Yt=Zt.exports;async function Gt(t,e={}){try{return await s.toDataURL(t,Object.assign({width:200,margin:2,errorCorrectionLevel:"L"},e))}catch(t){return null}}const te=()=>{const t=Yt({tablet:true,featureDetect:true});const e=Boolean(navigator.userAgent.match(/CriOS/));const n=Boolean(navigator.userAgent.match(/FxiOS/));const r=Boolean(navigator.userAgent.match(/OPT/));return{isMobileOrTablet:t,isChromeOnAppleDevice:e,isFirefoxOnAppleDevice:n,isOperaTouchOnAppleDevice:r}};function ee(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e!==null?decodeURIComponent(e[3]):null}function ne(t){if(t===undefined){return{}}const e=new URLSearchParams(t.substring(1));return[...e.entries()].reduce(((t,e)=>Object.assign(Object.assign({},t),{[e[0]]:e[1]})),{})}const re="sv";const ie="sv-SE";const oe="Avbryt";const se={htmlLang:re,locale:ie,"lang-name":"SE","lang-name-long":"Svenska","try-again":"Försök igen",cancel:oe,"start-qr":"Mobilt BankID","start-app":"Öppna BankID","start-qr-another-device":"BankID på annan enhet","hintcode-app-starting":"Försöker starta BankID-appen...","hintcode-qr-outstandingTransaction":"Starta BankID-appen och tryck på QR-ikonen. Skanna sedan QR-koden nedan.","hintcode-qr-started":"Starta BankID-appen och tryck på QR-ikonen. Skanna sedan QR-koden nedan.","hintcode-userSign":"Skriv din säkerhetskod i BankID- appen och välj Identifiera eller Skriv under.","hintcode-unknown":"Något gick fel. Försök igen.","hintcode-userCancel":"Åtgärden avbröts.","hintcode-startFailed":"BankID-appen verkar inte finnas i din dator eller telefon. Installera den och skaffa ett BankID hos din internetbank. Installera appen från din appbutik eller https://install.bankid.com.","hintcode-qr-startFailed":"Skanningen misslyckades. Starta BankID-appen och skanna QR koden. Kontrollera att appen är uppdaterad. Om du inte har appen måste du installera den och skaffa ett BankID hos din internetbank. Installera appen från din appbutik eller https://install.bankid.com.","hintcode-expiredTransaction":"BankID-appen svarar inte. Kontrollera att den är startad och att du har internetanslutning. Om du inte har något giltigt BankID kan du skaffa det hos din bank. Försök sedan igen.","hintcode-certificateErr":"Det BankID du försöker använda är för gammalt eller spärrat. Använd ett annat BankID eller skaffa ett nytt hos din internetbank.","hintcode-alreadyInProgress":"En identifiering eller underskrift för det här personnumret är redan påbörjad. Försök igen.","hintcode-requestTimeout":"Något gick fel. Försök igen.","hintcode-maintenance":"Något gick fel. Försök igen.","hintcode-internalError":"Något gick fel. Försök igen."};const ae="en";const ce="en";const le="Cancel";const ue={htmlLang:ae,locale:ce,"lang-name":"EN","lang-name-long":"English","try-again":"Try again",cancel:le,"start-qr":"Mobile BankID","start-app":"Open BankID","start-qr-another-device":"BankID on another device","hintcode-app-starting":"Trying to start the BankID app...","hintcode-qr-outstandingTransaction":"Start the BankID app and scan the QR code.","hintcode-qr-started":"Start the BankID app and scan the QR code.","hintcode-userSign":"Enter your security code in the BankID app and select Identify or Sign.","hintcode-unknown":"Something went wrong. Please try again.","hintcode-userCancel":"Action cancelled.","hintcode-startFailed":"The BankID app couldn't be found on your computer or mobile device. Please install it and get a BankID from your internet bank. Install the app from your app store or https://install.bankid.com.","hintcode-qr-startFailed":"The scan failed. Start the BankID app and scan the QR code. Check that the BankID app is up to date. If you don't have the BankID app, you need to install it and get a BankID from your internet bank. Install the app from your app store or https://install.bankid.com.","hintcode-expiredTransaction":"The BankID app is not responding. Please check that the program is started and that you have internet access. If you don't have a valid BankID you can get one from your bank. Try again.","hintcode-certificateErr":"The BankID you are trying to use is revoked or too old. Please use a different BankID or get a new one from your internet bank.","hintcode-alreadyInProgress":"An identification or signing for this personal number is already started. Please try again.","hintcode-requestTimeout":"Something went wrong. Please try again.","hintcode-maintenance":"Something went wrong. Please try again.","hintcode-internalError":"Something went wrong. Please try again."};const fe=[se,ue];const de=(t=null)=>fe.find((e=>e.htmlLang===t||e.locale===t||navigator.language.includes(e.htmlLang)||navigator.language.includes(e.locale)))||ue;function he(t=null){const e=de(t);return function t(...n){if(!e){return n[0]}for(const t of n){if(e[t]){return e[t]}}return n[0]}}const pe=({onClick:r,isLoading:i,text:o,isOutlined:s,darkTheme:a})=>{const c={default:"inline-flex items-center justify-center gap-x-2 w-56 h-12 rounded-md px-3.5 py-2.5 text-sm font-bold shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",outlinedLight:"bg-white hover:bg-gray-50 focus-visible:outline-primary-900 text-primary-900 border border-primary-900",outlinedDark:"bg-transparent focus-visible:outline-white text-white border border-white",light:"bg-primary-900 hover:bg-primary-800 focus-visible:outline-primary-900 text-white",dark:"bg-gray-50 hover:bg-gray-200 focus-visible:outline-white text-primary-900"};return t("button",{type:"button",disabled:i,onClick:r,class:{[c.default]:true,[c.outlinedLight]:s&&!a,[c.outlinedDark]:s&&a,[c.light]:!s&&!a,[c.dark]:!s&&a}},!i?t(e,null,!s?t("img",{src:n(a?"/assets/bankid-logo-v2023.svg":"/assets/bankid-logo-v2023-neg.svg"),class:"bankid-logo"}):"",o):t("img",{src:n(!s&&!a||s&&a?"/assets/spinner-white.svg":"/assets/spinner-dark.svg")}))};const ge=({onClick:e,text:r,isLoading:i})=>t("button",{type:"button",onClick:e,disabled:i,class:"inline-flex items-center justify-center rounded-md bg-white w-20 h-9 px-3.5 py-2 text-sm font-semibold text-primary-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},i?t("img",{src:n("/assets/spinner-dark.svg"),class:"h-5 w-5"}):`${r}`);const we=({message:e,type:n,onTryAgainButtonClick:r,tryAgainButtonText:i})=>t("div",{class:{"border-l-4 p-4 mb-4 animate-fade":true,[n==="error"?"border-red-400 bg-red-50":"border-primary-400 bg-primary-50"]:true}},t("div",{class:"flex"},t("div",{class:"flex-shrink-0"},n==="error"?t("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})):t("svg",{class:"h-5 w-5 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"}))),t("div",{class:"ml-3"},t("p",{class:{"text-sm":true,[n==="error"?"text-red-700":"text-primary-700"]:true}},e),n==="error"?t("div",{class:"mt-4"},t("div",{class:"-mx-2 -my-1.5 flex"},t("button",{type:"button",onClick:r,class:"rounded-md bg-red-50 px-3.5 py-2 text-sm font-semibold text-red-800 shadow-sm ring-1 ring-inset ring-red-300 hover:bg-red-100"},i))):"")));const be='/*! tailwindcss v3.4.1 | MIT License | https://tailwindcss.com*/*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;}.block{display:block}:host{display:block}.animate-fade{animation:fadeIn .8s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.static{position:static}.mx-auto{margin-left:auto;margin-right:auto}.mb-4{margin-bottom:1rem}.mt-4{margin-top:1rem}.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}.text-center{text-align:center}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.-my-1{margin-bottom:-.25rem;margin-top:-.25rem}.-my-1\\.5{margin-bottom:-.375rem;margin-top:-.375rem}.ml-3{margin-left:.75rem}.inline-flex{display:inline-flex}.h-12{height:3rem}.h-5{height:1.25rem}.h-9{height:2.25rem}.w-20{width:5rem}.w-5{width:1.25rem}.w-56{width:14rem}.flex-shrink-0{flex-shrink:0}.justify-center{justify-content:center}.gap-x-2{column-gap:.5rem}.rounded-md{border-radius:.375rem}.border{border-width:1px}.border-l-4{border-left-width:4px}.border-primary-400{--tw-border-opacity:1;border-color:rgb(56 189 216/var(--tw-border-opacity))}.border-primary-900{--tw-border-opacity:1;border-color:rgb(26 62 78/var(--tw-border-opacity))}.border-red-400{--tw-border-opacity:1;border-color:rgb(248 113 113/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-primary-50{--tw-bg-opacity:1;background-color:rgb(238 251 253/var(--tw-bg-opacity))}.bg-primary-900{--tw-bg-opacity:1;background-color:rgb(26 62 78/var(--tw-bg-opacity))}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-3\\.5{padding-left:.875rem;padding-right:.875rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-2\\.5{padding-bottom:.625rem;padding-top:.625rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-primary-400{--tw-text-opacity:1;color:rgb(56 189 216/var(--tw-text-opacity))}.text-primary-700{--tw-text-opacity:1;color:rgb(28 104 130/var(--tw-text-opacity))}.text-primary-900{--tw-text-opacity:1;color:rgb(26 62 78/var(--tw-text-opacity))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113/var(--tw-text-opacity))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28/var(--tw-text-opacity))}.text-red-800{--tw-text-opacity:1;color:rgb(153 27 27/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.ring-1{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.ring-inset{--tw-ring-inset:inset}.ring-gray-300{--tw-ring-opacity:1;--tw-ring-color:rgb(209 213 219/var(--tw-ring-opacity))}.ring-red-300{--tw-ring-opacity:1;--tw-ring-color:rgb(252 165 165/var(--tw-ring-opacity))}.hover\\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.hover\\:bg-primary-800:hover{--tw-bg-opacity:1;background-color:rgb(31 86 107/var(--tw-bg-opacity))}.hover\\:bg-red-100:hover{--tw-bg-opacity:1;background-color:rgb(254 226 226/var(--tw-bg-opacity))}.focus-visible\\:outline:focus-visible{outline-style:solid}.focus-visible\\:outline-2:focus-visible{outline-width:2px}.focus-visible\\:outline-offset-2:focus-visible{outline-offset:2px}.focus-visible\\:outline-primary-900:focus-visible{outline-color:#1a3e4e}.focus-visible\\:outline-white:focus-visible{outline-color:#fff}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}';const me=be;const ye=class{constructor(t){r(this,t);this.completed=i(this,"completed",7);this.timeout=null;this.TAG="[jgroup-bank-id]";this.propsValid=true;this.propsValidationErrorMessage=null;this.translate=he(this.language);this.type=undefined;this.signUrl=undefined;this.authUrl=undefined;this.collectUrl=undefined;this.cancelUrl=undefined;this.darkTheme=false;this.language=null;this.flowType=undefined;this.isMobileOrTablet=null;this.isStarting=false;this.isStartingOnAnotherDevice=false;this.isInProgress=null;this.isCancelling=null;this.statusHintCode=null;this.status=null;this.qrCodeImageUrl=null}validateType(t){if(!["auth","sign"].includes(t)){this.throwError(`The 'type' attribute is required and must be either 'auth' or 'sign'.`)}}validateSignUrl(t){if(this.type==="sign"&&t===undefined){this.throwError(`The 'sign-url' attribute is required when 'type' is set to 'sign'.`)}}validateAuthUrl(t){if(this.type==="auth"&&t===undefined){this.throwError(`The 'auth-url' attribute is required when 'type' is set to 'auth'.`)}}validateCollectUrl(t){if(t===undefined){this.throwError(`The 'collect-url' attribute is required.`)}}validateCancelUrl(t){if(t===undefined){this.throwError(`The 'cancel-url' attribute is required.`)}}handleVisibilityChange(){const t=ne(location.hash);if(t.initiated!==undefined){this.flowType="app";this.isInProgress=true;this.pollCollect()}}componentWillLoad(){this.validateProps();this.init=this.init.bind(this);this.startOnAnotherDevice=this.startOnAnotherDevice.bind(this);this.pollCollect=this.pollCollect.bind(this);this.reset=this.reset.bind(this);this.setFlowTypeBasedOnDevice()}render(){if(!this.propsValid){return t("p",null,this.propsValidationErrorMessage)}return t(o,null,this.isInProgress===null?t("div",{class:"flex flex-col items-center"},t(pe,{isOutlined:false,darkTheme:this.darkTheme,onClick:this.init,isLoading:this.isStarting&&!this.isStartingOnAnotherDevice,text:this.flowType==="qr"&&!this.isStartingOnAnotherDevice?this.translate("start-qr"):this.translate("start-app")}),this.isMobileOrTablet?t("div",{class:"mt-4"},t(pe,{isOutlined:true,darkTheme:this.darkTheme,onClick:this.startOnAnotherDevice,isLoading:this.isStarting&&this.isStartingOnAnotherDevice,text:this.translate("start-qr-another-device")})):""):"",this.shouldRenderStatusHint?t(we,{message:this.translate(`hintcode-${this.flowType}-${this.statusHintCode||"unknown"}`,`hintcode-${this.statusHintCode||"unknown"}`),type:this.status==="failed"?"error":"info",tryAgainButtonText:this.translate("try-again"),onTryAgainButtonClick:this.reset}):"",this.shouldRenderQrImage?t("img",{src:this.qrCodeImageUrl,class:"mx-auto mb-4 animate-fade"}):"",this.shouldRenderCancelButton?t("p",{class:"text-center animate-fade"},t(ge,{onClick:this.reset,text:this.translate("cancel"),isLoading:this.isCancelling})):"")}get shouldRenderCancelButton(){return this.flowType==="qr"&&this.isInProgress&&this.timeout!==null}get shouldRenderQrImage(){return this.isInProgress&&this.flowType==="qr"&&this.qrCodeImageUrl!==null}get shouldRenderStatusHint(){return this.statusHintCode!==null&&this.statusHintCode!==undefined&&this.isInProgress!==null}startOnAnotherDevice(){this.isStartingOnAnotherDevice=true;this.flowType="qr";this.init()}setFlowTypeBasedOnDevice(){const{isMobileOrTablet:t}=te();this.isMobileOrTablet=t;this.flowType=t?"app":"qr"}validateProps(){try{this.validateType(this.type);this.validateSignUrl(this.signUrl);this.validateAuthUrl(this.authUrl);this.validateCollectUrl(this.collectUrl);this.validateCancelUrl(this.cancelUrl)}catch(t){this.propsValid=false;this.propsValidationErrorMessage=t.message;console.error(t)}}throwError(t){throw new Error(`${this.TAG} ${t}`)}async init(){const t=this.type==="auth"?this.authUrl:this.signUrl;this.isStarting=true;const e=await this.post(t);if(e===null){this.reset();this.throwError(`Failed starting '${this.type}' transaction`);return}return this.handleInitComplete(e)}async handleInitComplete({autoStartToken:t,transactionId:e}){if(this.flowType==="qr"){await this.pollCollect(e);this.isStarting=false;this.isInProgress=true}else if(this.flowType==="app"){const e=this.createReturnUrl();window.location.href=`https://app.bankid.com/?autostarttoken=${t}&redirect=${e}`}}pollCollect(t=null){const e=async()=>{const n=await this.post(this.collectUrl);if(n===null){console.warn(`${this.TAG} pollCollect returned null, clearing timeout`);clearTimeout(this.timeout);if(this.flowType==="app"){this.reset()}return}if(t&&n.transactionId!==t){await this.reset();console.error(`${this.TAG} resetting: initial transactionId '${t}' does not match the one returned from collect '${n.transactionId}'.`);return}if(this.flowType==="qr"){this.qrCodeImageUrl=await Gt(n.qrCode)}this.statusHintCode=n.hintCode;this.status=n.status;switch(n.status){case"pending":this.timeout=setTimeout((()=>{e()}),1e3);break;case"failed":this.isInProgress=false;break;case"complete":this.isInProgress=false;window.location.hash="";this.completed.emit(n);break;default:console.warn(`${this.TAG} pollCollect returned unknown status '${n.status}'`);break}};return e()}async reset(){if(this.isInProgress){this.isCancelling=true;await this.post(this.cancelUrl)}this.isInProgress=null;this.isStarting=false;this.isStartingOnAnotherDevice=false;this.isCancelling=null;this.statusHintCode=null;this.status=null;this.qrCodeImageUrl=null;this.setFlowTypeBasedOnDevice();clearTimeout(this.timeout)}createReturnUrl(){const t=te();if(t.isChromeOnAppleDevice){return encodeURIComponent("googlechrome://")}if(t.isFirefoxOnAppleDevice){return encodeURIComponent("firefox://")}if(t.isOperaTouchOnAppleDevice){return encodeURIComponent(`${window.location.href.replace("http","touch-http")}#initiated=true`)}return encodeURIComponent(`${window.location.href}#initiated=true`)}async post(t){const e="XSRF-TOKEN";const n=ee(e);const r={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};if(n!==undefined){r["X-XSRF-TOKEN"]=n}try{const e=await window.fetch(t,{method:"POST",credentials:"include",headers:r});if(!e.ok){return null}return await e.json()}catch(t){return null}}static get assetsDirs(){return["./../assets"]}static get watchers(){return{type:["validateType"],signUrl:["validateSignUrl"],authUrl:["validateAuthUrl"],collectUrl:["validateCollectUrl"],cancelUrl:["validateCancelUrl"]}}};ye.style=me;export{ye as jgroup_bank_id};
//# sourceMappingURL=p-fda2a15a.entry.js.map